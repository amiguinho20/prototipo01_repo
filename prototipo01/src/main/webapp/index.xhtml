<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:p="http://primefaces.org/ui">  
  
    <h:head>  
  		<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
    </h:head>  
      
    <h:body>  
      <h:form id="form">
      	

		<p:fieldset legend="Busca Textual RÃ¡pida de Teste">
			<h:panelGrid columns="1">
				<p:inputText id="pesquisa" value="#{exemploMB.filtro.pesquisa}"/>
				<p:watermark value="Pesquisa Textual" for="pesquisa"/>
				<p:commandButton value="Consultar" actionListener="#{exemploMB.pesquisar}" update="checkboxDT"  />
				<p:commandButton type="button" icon="ui-icon-help" onclick="PF('dlg2').show();" />
			</h:panelGrid>
						
		</p:fieldset>
		
		<div>
			<p:dataTable id="checkboxDT" var="resultado" value="#{exemploMB.pessoasResultado}" selection="#{exemploMB.pessoasSelecionadas}" rowKey="#{resultado.nome}"	style="margin-bottom:0">
				<f:facet name="header">
            		Checkbox
        		</f:facet>
				<p:column selectionMode="multiple" style="width:16px;text-align:center" />
				
				<p:column headerText="Nome">
					<h:outputText value="#{resultado.nome}" />
				</p:column>
				
				<p:column headerText="localidade BO">
					<h:outputText value="#{resultado.localOcorrencia.enderecoCompleto}" />
				</p:column>
				
				<p:column headerText="BO">
					<h:outputText value="#{resultado.idBO}" />
				</p:column>
				
				<f:facet name="footer">				
					<p:commandButton process="checkboxDT" update="form" actionListener="#{exemploMB.visualizarLocalidades}" icon="ui-icon-search" value="Mostrar no mapa" oncomplete="PF('geoTagDialog').show()" />
				</f:facet>
			</p:dataTable>
		</div>
		
		

		<p:dialog header="Modal Dialog" widgetVar="dlg2" modal="true" height="400" width="600">
    		<p>
    			<h:outputText value="todas estas palavras" />
    			<p:inputText id="txt1" value="#{exemploMB.filtro.todos}"/>
    		</p>
    		<p>
    			<h:outputText value="expressao" />
    			<p:inputText id="txt2" value="#{exemploMB.filtro.expressao}"/>
    		</p>
    		<p>
    			<h:outputText value="qualquer uma destas palavras:" />
    			<p:inputText id="txt3" value="#{exemploMB.filtro.ou}"/>
    		</p>
    		<p>
    			<h:outputText value="nenhuma destas palavras:" />
    			<p:inputText id="txt4" value="#{exemploMB.filtro.nao}"/>
    		</p>
    		<p>
    			<p:commandButton value="converter" actionListener="#{exemploMB.converter}" update="pesquisa"/>
    		</p>
		</p:dialog>
		
		<p:dialog header="Modal Dialog" widgetVar="geoTagDialog" modal="true" height="400" width="600">
    		<p:outputPanel id="geoTagDetail" style="text-align:center;">
            	<p:gmap id="geoGmap" widgetVar="geoMap" center="#{exemploMB.centroMapa}" zoom="13" type="ROADMAP" model="#{exemploMB.geoModel}" style="width:100%;height:400px"/>
        	</p:outputPanel>
		</p:dialog>
      </h:form>    
    </h:body>  
</html> 
